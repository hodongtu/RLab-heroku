webpackJsonp([21],{"7Y0j":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dd8w"),s=a.n(i),n=a("NYxO"),r={computed:s()({},Object(n.c)("iDecision",["dialogNewCaseVisible"])),data:function(){return{form:{case_id:"1234"},rules:{case_id:[{required:!0,message:"Please input case Id",trigger:"blur"},{min:8,max:8,message:"Length should be 8",trigger:"blur"}]}}},methods:s()({},Object(n.d)("iDecision",["TOGGLE_NEW_CASE_DIALOG"]),Object(n.b)("iDecision",["retrieveCase","addCase"]),{submit:function(e,t){var a=this;this.$refs[e].validate(function(e){if(console.log(t),!e)return!1;a.addCase({newCase:a.form,goToDetail:t})})}})},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.dialogNewCaseVisible,"before-close":e.TOGGLE_NEW_CASE_DIALOG,width:"25%",title:"New case"},on:{"update:visible":function(t){e.dialogNewCaseVisible=t}}},[a("el-form",{ref:"newCaseForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px",size:"mini","label-position":"left"}},[a("el-form-item",{attrs:{label:"Case ID",prop:"case_id"}},[a("el-input",{model:{value:e.form.case_id,callback:function(t){e.$set(e.form,"case_id",t)},expression:"form.case_id"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submit("newCaseForm",!1)}}},[e._v("Add")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submit("newCaseForm",!0)}}},[e._v("Add & Go to detail")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.TOGGLE_NEW_CASE_DIALOG}},[e._v("Cancel")])],1)],1)},staticRenderFns:[]},o={name:"idecision-dashboard",components:{NewCaseDialog:a("VU/8")(r,l,!1,null,null,null).exports},data:function(){return{params:{page_size:20,page_number:1},columnDefs:[{label:"Case ID",prop:"case_id",sortable:!0,width:120},{label:"Tên khách hàng",prop:"customer_name",sortable:!0},{label:"Sản phẩm",prop:"product",sortable:!0,width:150},{label:"Thời gian tạo",prop:"created_at",width:140},{label:"CVTĐ",prop:"appraiser",width:100,sortable:!0},{label:"Status",prop:"status",align:"center",width:100,sortable:!0}],selectedCase:null}},computed:s()({},Object(n.c)("iDecision",["cases","loading"])),created:function(){this.retrieveCase(this.params)},methods:s()({},Object(n.b)("iDecision",["retrieveCase"]),Object(n.d)("iDecision",["TOGGLE_NEW_CASE_DIALOG"]),{handleCurrentChange:function(e){this.selectedCase=e},currentPageChange:function(e){this.params.page_number=e,this.retrieveCase(this.params)},sizeChange:function(e){this.params.page_size=e,this.retrieveCase(this.params)},goToDetail:function(){var e=this.selectedCase.case_id;this.$router.push({path:"/idecision/case/"+e})}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button-group",{staticClass:"mb-2"},[a("el-button",{attrs:{disabled:!e.selectedCase||e.loading,size:"mini",icon:"icon icon-folder-open",plain:""},on:{click:e.goToDetail}}),e._v(" "),a("el-button",{attrs:{disabled:e.loading,size:"mini",icon:"icon icon-spinner11",plain:""},on:{click:function(t){return e.retrieveCase(e.params)}}}),e._v(" "),a("el-button",{attrs:{disabled:e.loading,size:"mini",icon:"icon icon-plus",plain:""},on:{click:e.TOGGLE_NEW_CASE_DIALOG}})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cases.items,"element-loading-text":"Loading...",size:"mini",border:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"index",width:"50",align:"center",fixed:"left"}}),e._v(" "),e._l(e.columnDefs,function(t,i){return a("el-table-column",{key:i,attrs:{label:t.label,align:t.align,sortable:t.sortable,width:t.width,fixed:t.fixed},scopedSlots:e._u([{key:"default",fn:function(i){return[["created_at"].includes(t.prop)?a("span",{attrs:{title:i.row[t.prop]}},[e._v("\n          "+e._s(e._f("moment")(i.row[t.prop],"from","now")||"-")+"\n        ")]):a("span",[e._v(e._s(i.row[t.prop]))])]}}],null,!0)})})],2),e._v(" "),a("el-pagination",{staticClass:"mt-2 right",attrs:{disabled:e.loading,total:e.cases.length,"page-sizes":[20,50,100],"page-size":e.params.page_size,"current-page":e.params.page_number,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"current-change":e.currentPageChange,"size-change":e.sizeChange}}),e._v(" "),a("new-case-dialog")],1)},staticRenderFns:[]},d=a("VU/8")(o,c,!1,null,null,null);t.default=d.exports}});
//# sourceMappingURL=21.c6d252ef0947222f4247.js.map