webpackJsonp([3],{ArKq:function(e,t){},EXUH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),i=r.n(n),a=r("NYxO"),l=r("pFYg"),s=r.n(l),o={methods:{parseTime:function(e,t){if(0===arguments.length)return null;var r=t||"{y}-{m}-{d} {h}:{i}:{s}",n=void 0;"object"===(void 0===e?"undefined":s()(e))?n=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));var i={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()};return r.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var r=i[t];return"a"===t?["日","一","二","三","四","五","六"][r]:(e.length>0&&r<10&&(r="0"+r),r||0)})},formatJson:function(e,t){var r=this;return t.map(function(t){return e.map(function(e){return"timestamp"===e?r.parseTime(t[e]):t[e]})})},handleDownload:function(e){var t=this;r.e(26).then(r.bind(null,"zWO4")).then(function(r){var n=e.header,i=e.filterVal,a=e.filename,l=e.items,s=t.formatJson(i,l);r.export_json_to_excel({header:n,data:s,filename:a})})}}},c={name:"T24-customer",mixins:[o],props:{items:{type:Array,default:function(){return[]}}},data:function(){return{columnDefs:[{label:"IDKH",prop:"IDCUS"},{label:"Tên KH",prop:"CUSNAME_VIE",width:150},{label:"ĐC liên lạc",prop:"ADDRESS",width:220},{label:"ĐC thường trú",prop:"ADDRESS_CMT",width:220},{label:"Ngày sinh",prop:"BIRTH",width:100},{label:"CMT",prop:"CMT",width:100},{label:"Hộ chiếu",prop:"HOCHIEU"},{label:"CMT cũ",prop:"CMT_CU"},{label:"Hộ chiếu cũ",prop:"HOCHIEU_CU"},{label:"MST",prop:"MST"},{label:"SĐT",prop:"TEL1"},{label:"SĐT cũ",prop:"TEL1_CU",width:100},{label:"Trạng thái",prop:"CUSTOMER_STATUS"},{label:"Chương trình",prop:"CHTRINH"},{label:"Priority",prop:"PHANLOAI"},{label:"Ngày hết hạn",prop:"NGAYKETTHUC"},{label:"CN định danh",prop:"COMPANY_BOOK"}]}},methods:{exportExcel:function(){var e=this.columnDefs.map(function(e){return e.prop}),t={header:e,filterVal:e,filename:"CUSTOMER-"+this.items[0].IDCUS,items:this.items};this.handleDownload(t)}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"subheading font-weight-medium"},[e._v("Basic Information")]),e._v(" "),r("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),e.items.length?r("el-link",{attrs:{underline:!1,type:"info"},on:{click:e.exportExcel}},[e._v("\n    Export\n    "),r("i",{staticClass:"el-icon-printer el-icon--right"})]):e._e(),e._v(" "),r("el-table",{staticClass:"mt-2",staticStyle:{width:"100%"},attrs:{data:e.items,border:"",size:"mini"}},e._l(e.columnDefs,function(t,n){return r("el-table-column",{key:n,attrs:{label:t.label,width:t.width,prop:t.prop,align:t.align,sortable:t.sortable},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.column;return[r("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])]}}],null,!0)})}),1)],1)},staticRenderFns:[]},p=r("VU/8")(c,u,!1,null,null,null).exports,m={name:"T24-card",mixins:[o],props:{items:{type:Array,default:function(){return[]}}},data:function(){return{columnDefs:[{label:"Card key",prop:"CARD_KEY",width:100},{label:"IDKH",prop:"CUSTOMER",width:80},{label:"Tên KH",prop:"NAME",width:150},{label:"Số tài khoản",prop:"ACCOUNT_",width:120},{label:"Loại thẻ",prop:"LOAI_THE",width:65},{label:"Trạng thái",prop:"TRANG_THAI",width:65},{label:"Ngày yêu cầu",prop:"NGAY_YEU_CAU",width:85},{label:"Ngày phát hành",prop:"NGAY_PHAT_HANH",width:85},{label:"Ngày nhận thẻ",prop:"NGAY_NHAN_THE",width:85},{label:"Mô tả",prop:"DISCRIPTION",width:200},{label:"Loại KH",prop:"LOAI_KH",width:140},{label:"Loại PH",prop:"LOAI_PH",width:100},{label:"Mã hợp đồng",prop:"CONTRACT_ID",width:120},{label:"Hạn mức",prop:"LIMIT_AMT"},{label:"KH trả lương",prop:"KH_TRA_LUONG"},{label:"CMT chủ thẻ",prop:"CMT_CHU_THE",width:100},{label:"Hình thức bảo đảm",prop:"H_THUC_BAO_DAM"},{label:"CTY trả lương",prop:"CTY_TRALUONG"}]}},methods:{exportExcel:function(){var e=this.columnDefs.map(function(e){return e.prop}),t={header:e,filterVal:e,filename:"CARD-"+this.items[0].CUSTOMER,items:this.items};this.handleDownload(t)}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"subheading font-weight-medium"},[e._v("Card")]),e._v(" "),r("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),r("el-link",{attrs:{disabled:!e.items.length,underline:!1,type:"info"},on:{click:e.exportExcel}},[e._v("\n    Export\n    "),r("i",{staticClass:"el-icon-printer el-icon--right"})]),e._v(" "),e.items.length?r("el-table",{staticClass:"mt-2",staticStyle:{width:"100%"},attrs:{data:e.items,border:"",size:"mini"}},e._l(e.columnDefs,function(t,n){return r("el-table-column",{key:n,attrs:{label:t.label,width:t.width,prop:t.prop,align:t.align,sortable:t.sortable},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.column;return[r("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])]}},{key:"default",fn:function(n){return[["LIMIT_AMT"].includes(t.prop)?r("span",[e._v("\n          "+e._s(e._f("numberWithDots")(n.row[t.prop]))+"\n        ")]):r("span",[e._v(e._s(n.row[t.prop]))])]}}],null,!0)})}),1):r("div",{staticClass:"text-md-center text-sm-center text-xs-center subheading ma-2"},[e._v("\n    No data available\n  ")])],1)},staticRenderFns:[]},h=r("VU/8")(m,d,!1,null,null,null).exports,f={name:"T24-limit",mixins:[o],props:{items:{type:Array,default:function(){return[]}}},data:function(){return{columnDefs:[{label:"Limit ID",prop:"limit_id"},{label:"IDKH",prop:"customer_id"},{label:"TK thấu chi",prop:"overdraft_account"},{label:"CN",prop:"branch"},{label:"Online limit",prop:"online_limit"},{label:"Hạn mức",prop:"limit"},{label:"Tổng dư nợ",prop:"ost"},{label:"Hạn mức còn lại",prop:"available_limit"},{label:"Ngày giải ngân",prop:"disbursement_date"},{label:"Ngày đáo hạn",prop:"maturity_date"},{label:"Sản phẩm",prop:"product"},{label:"Chương trình",prop:"program"},{label:"Chính sách",prop:"policy"},{label:"Mã MĐV",prop:"purpose_code"},{label:"Mô tả MĐV",prop:"purpose_description"},{label:"Mã hồ sơ",prop:"application_id"},{label:"Phê duyệt",prop:"approver"}]}},methods:{exportExcel:function(){var e=this.columnDefs.map(function(e){return e.prop}),t={header:e,filterVal:e,filename:"LIMIT-"+this.items[0].customer_id,items:this.items};this.handleDownload(t)}}},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"subheading font-weight-medium"},[e._v("Limit")]),e._v(" "),r("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),r("el-link",{attrs:{disabled:!e.items.length,underline:!1,type:"info"},on:{click:e.exportExcel}},[e._v("\n    Export\n    "),r("i",{staticClass:"el-icon-printer el-icon--right"})]),e._v(" "),e.items.length?r("el-table",{staticClass:"mt-2",staticStyle:{width:"100%"},attrs:{data:e.items,border:"",size:"mini"}},e._l(e.columnDefs,function(t,n){return r("el-table-column",{key:n,attrs:{label:t.label,width:t.width,prop:t.prop,align:t.align,sortable:t.sortable},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.column;return[r("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])]}},{key:"default",fn:function(n){return[["online_limit","ost","available_limit"].includes(t.prop)?r("span",[e._v("\n          "+e._s(e._f("numberWithDots")(n.row[t.prop]))+"\n        ")]):r("span",[e._v(e._s(n.row[t.prop]))])]}}],null,!0)})}),1):r("div",{staticClass:"text-md-center text-sm-center text-xs-center subheading ma-2"},[e._v("\n    No data available\n  ")])],1)},staticRenderFns:[]},b=r("VU/8")(f,_,!1,null,null,null).exports,g={name:"T24-mobilize",mixins:[o],props:{items:{type:Array,default:function(){return[]}}},data:function(){return{columnDefs:[{label:"Mã hợp đồng",prop:"CONTRACT_ID",width:120},{label:"IDKH",prop:"CUSTOMER_ID",width:80},{label:"Tên KH",prop:"CUSTOMERNAME_EN",width:150},{label:"Số tiền nguyên tệ",prop:"SO_TIEN_NGUYEN_TE",width:130},{label:"Số tiền quy đổi",prop:"SO_TIEN_QUY_DOI",width:130},{label:"Lãi suất",prop:"INTEREST_RATE",width:80},{label:"Loại tiền",prop:"CURRENCY",width:80},{label:"Ngày hiệu lực",prop:"prop_DATE",width:120},{label:"Phân hệ",prop:"PHANHE",width:80},{label:"Category",prop:"CAT_DESCRIPTION"},{label:"Sản phẩm",prop:"PROD_DESCRIPTION"},{label:"Chi nhánh",prop:"MNE",width:130}]}},methods:{exportExcel:function(){var e=this.columnDefs.map(function(e){return e.prop}),t={header:e,filterVal:e,filename:"MOBILIZE-"+this.items[0].CUSTOMER_ID,items:this.items};this.handleDownload(t)}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"subheading font-weight-medium"},[e._v("Mobilize")]),e._v(" "),r("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),r("el-link",{attrs:{disabled:!e.items.length,underline:!1,type:"info"},on:{click:e.exportExcel}},[e._v("\n    Export\n    "),r("i",{staticClass:"el-icon-printer el-icon--right"})]),e._v(" "),e.items.length?r("el-table",{staticClass:"mt-2",staticStyle:{width:"100%"},attrs:{data:e.items,border:"",size:"mini"}},e._l(e.columnDefs,function(t,n){return r("el-table-column",{key:n,attrs:{label:t.label,width:t.width,prop:t.prop,align:t.align,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return[["SO_TIEN_NGUYEN_TE","SO_TIEN_QUY_DOI"].includes(t.prop)?r("span",[e._v("\n          "+e._s(e._f("numberWithDots")(n.row[t.prop]))+"\n        ")]):r("span",[e._v(e._s(n.row[t.prop]))])]}}],null,!0)})}),1):r("div",{staticClass:"text-md-center text-sm-center text-xs-center subheading ma-2"},[e._v("\n    No data available\n  ")])],1)},staticRenderFns:[]},y=r("VU/8")(g,v,!1,null,null,null).exports,C={name:"T24-transaction",mixins:[o],props:{items:{type:Array,default:function(){return[]}}},mounted:function(){this.entries=this.items.slice(0,this.page_size)},watch:{items:function(){this.page_number=1,this.entries=this.items.slice(0,this.page_size)}},computed:{generateIndex:function(){return 1===this.page_number?this.page_number:(this.page_number-1)*this.page_size+1}},data:function(){return{columnDefs:[{label:"Số tài khoản",prop:"ACCOUNT_NUMBER",width:120},{label:"Tên tài khoản",prop:"ACCOUNT_NAME",width:200},{label:"IDKH",prop:"CUSTOMER_ID",width:80},{label:"Loại tiền",prop:"CURRENCY",width:80},{label:"Booking Date",prop:"BOOKING_DATETIME",width:130},{label:"Số bút toán",prop:"ENTRY_NUMBER",width:200},{label:"Ghi nợ",prop:"DEBIT",width:120},{label:"Ghi có",prop:"CREDIT",width:120},{label:"Nội dung",prop:"DESCRIPTION"},{label:"Loại giao dịch",prop:"TRANSACTION_TYPE",width:100},{label:"TK đối ứng",prop:"CONTRA_ACCOUNT",width:140},{label:"Tên TK đối ứng",prop:"CONTRA_ACCOUNT_NAME",width:180}],entries:[],page_size:15,page_number:1}},methods:{exportExcel:function(){var e=this.columnDefs.map(function(e){return e.prop}),t={header:e,filterVal:e,filename:"TRANSACTION-"+this.items[0].CUSTOMER_ID,items:this.items};this.handleDownload(t)},paginator:function(){var e=(this.page_number-1)*this.page_size,t=this.items.slice(e).slice(0,this.page_size),r=Math.ceil(this.items.length/this.page_size);return{page_number:this.page_number,page_size:this.page_size,pre_page:this.page_number-1?this.age_number-1:null,next_page:r>this.page_number?this.page_number+1:null,total:this.items.length,total_pages:r,items:t}},sizeChange:function(e){this.page_size=e,this.entries=this.paginator().items},currentPageChange:function(e){this.page_number=e,this.entries=this.paginator().items}}},T={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"subheading font-weight-medium"},[e._v("Transaction")]),e._v(" "),r("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),e.items.length?r("el-link",{attrs:{underline:!1,type:"info"},on:{click:e.exportExcel}},[e._v("\n    Export\n    "),r("i",{staticClass:"el-icon-printer el-icon--right"})]):e._e(),e._v(" "),r("el-table",{staticClass:"mt-2",staticStyle:{width:"100%"},attrs:{data:e.entries,border:"",size:"mini"}},[r("el-table-column",{attrs:{type:"index",width:"45",align:"center",index:e.generateIndex}}),e._v(" "),e._l(e.columnDefs,function(t,n){return r("el-table-column",{key:n,attrs:{label:t.label,width:t.width,prop:t.prop,align:t.align,sortable:t.sortable},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.column;return[r("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])]}},{key:"default",fn:function(n){return["BOOKING_DATETIME"===t.prop?r("span",[e._v("\n          "+e._s(e._f("cleanBookingDate")(n.row[t.prop]))+"\n        ")]):["DEBIT","CREDIT"].includes(t.prop)?r("span",[e._v("\n          "+e._s(e._f("numberWithDots")(n.row[t.prop]))+"\n        ")]):r("span",[e._v(e._s(e._f("cleanLocalRef")(n.row[t.prop])))])]}}],null,!0)})})],2),e._v(" "),r("el-pagination",{staticClass:"mt-2 mb-3 right",attrs:{total:e.items.length,"page-sizes":[15,50,100],"page-size":e.page_size,"current-page":e.page_number,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"current-change":e.currentPageChange,"size-change":e.sizeChange}})],1)},staticRenderFns:[]},w=r("VU/8")(C,T,!1,null,null,null).exports,x={name:"QT-result-dialog",props:{request:{type:Object,default:function(){}}},components:{BasicInformation:p,Card:h,Limit:b,Mobilize:y,Transaction:w},computed:i()({},Object(a.c)("QueryTool",["dialogResultVisible"])),data:function(){return{fields:{customer_id:{label:"Customer ID",type:"danger"},legal_id:{label:"Legal ID",type:"info"},passport:{label:"Passport",type:"primary"},tax_code:{label:"Tax code",type:"warning"},account_number:{label:"Account number",type:"primary"},from:{label:"From",type:"info"},to:{label:"To",type:"info"}}}},methods:i()({},Object(a.d)("QueryTool",["TOGGLE_RESULT_DIALOG"]))},E={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.dialogResultVisible,"before-close":e.TOGGLE_RESULT_DIALOG,width:"30%",fullscreen:""},on:{"update:visible":function(t){e.dialogResultVisible=t}}},[r("template",{slot:"title"},[r("div",{staticClass:"tag-group"},[r("span",{staticClass:"subheading font-weight-medium"},[e._v("Query result for ")]),e._v(" "),e._l(e.request.q,function(t,n){return[t?r("el-tag",{key:n,staticClass:"ml-2",attrs:{type:e.fields[n].type,effect:"plain"}},[r("b",[e._v(e._s(e.fields[n].label))]),e._v(" "+e._s(t.replace("T00:00:00","")||"—")+"\n        ")]):e._e()]})],2)]),e._v(" "),"customer_info"===e.request.category?[r("BasicInformation",{staticClass:"mb-4",attrs:{items:e.request.result.customer}}),e._v(" "),r("Card",{staticClass:"mb-4",attrs:{items:e.request.result.card}}),e._v(" "),r("Limit",{staticClass:"mb-4",attrs:{items:e.request.result.limit}}),e._v(" "),r("Mobilize",{staticClass:"mb-4",attrs:{items:e.request.result.mobilize}})]:"transaction"===e.request.category?r("Transaction",{staticClass:"mb-4",attrs:{items:e.request.result.transaction}}):e._e()],2)},staticRenderFns:[]};var k=r("VU/8")(x,E,!1,function(e){r("iuEp")},"data-v-5f91b316",null).exports,O=r("gRE1"),D=r.n(O),S={name:"query-tool-dashboard",mixins:[{methods:{isEmptyObj:function(e){return D()(e).every(function(e){return!e})}}}],components:{ResultDialog:k},data:function(){return{columnDefs:[{label:"In",prop:"request_at",width:120},{label:"Out",prop:"respond_at",width:120},{label:"System",prop:"system",width:70},{label:"Category",prop:"category",width:120},{label:"Customer ID",prop:"q.customer_id",width:100},{label:"Account number",prop:"q.account_number"},{label:"Legal ID",prop:"q.legal_id",width:100},{label:"Passport",prop:"q.passport"},{label:"Tax code",prop:"q.tax_code"},{label:"Request by",prop:"request_by",width:100,fixed:"right"},{label:"Status",prop:"status",align:"center",width:100,fixed:"right"}],status:{0:{type:"danger",description:"Error"},1:{type:"success",description:"Success"},2:{type:"warning",description:"Pending"},3:{type:"info",description:"Refresing"}},categories:{customer_info:{description:"Customer Info",type:"info"},transaction:{description:"Transaction",type:"danger"}},systems:[{label:"T24",value:"T24",category:[{label:"Customer Info",value:"customer_info"},{label:"Transaction",value:"transaction"}]}],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()||e.getTime()<15463008e5},shortcuts:[{text:"Today",onClick:function(e){e.$emit("pick",new Date)}},{text:"Yesterday",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"A week ago",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},filterSidebar:!0,form:{system:"T24",category:"customer_info"},customerForm:{customer_id:null,legal_id:null,passport:null,tax_code:null},transactionForm:{customer_id:null,account_number:null,from:null,to:null},formRules:{system:[{required:!0,message:"Please select",trigger:"change"}],category:[{required:!0,message:"Please select",trigger:"change"}]},customerFormRules:{customer_id:[{min:8,max:8,message:"Length should be 8",trigger:"blur"}]},transactionFormRules:{account_number:[{min:14,max:14,message:"Length should be 14",trigger:"blur"}],customer_id:[{min:8,max:8,message:"Length should be 8",trigger:"blur"}],from:[{required:!0,message:"Please select",trigger:"change"}],to:[{required:!0,message:"Please select",trigger:"change"}]},q:{page_size:20,page_number:1,search_key:null},request:{}}},computed:i()({},Object(a.c)("QueryTool",["loading"]),{category:function(){var e=this,t=this.systems.find(function(t){return t.value===e.form.system});return t?t.category:[]},generateIndex:function(){return 1===this.q.page_number?this.q.page_number:(this.q.page_number-1)*this.q.page_size+1}}),watch:{"form.system":function(){this.form.category=null}},created:function(){this.retrieveRequest(this.q),this.interval=setInterval(function(){this.onRefresh()}.bind(this),6e4)},beforeDestroy:function(){clearInterval(this.interval)},methods:i()({},Object(a.d)("QueryTool",["TOGGLE_RESULT_DIALOG"]),{accessObjByString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return(Array.isArray(e)?e:e.split(r)).reduce(function(e,t){return e&&e[t]},t)},toggleFilter:function(){this.filterSidebar=!this.filterSidebar},sizeChange:function(e){this.q.page_size=e,this.retrieveRequest(this.q)},currentPageChange:function(e){this.q.page_number=e,this.retrieveRequest(this.q)},onRefresh:function(){this.retrieveRequest(this.q)},retrieveRequest:function(e){var t=this;this.$store.dispatch("QueryTool/retrieveRequest",e).then(function(e){e.ok||t.$message({message:e.data,type:"error"})})},view:function(e){this.request=e,this.TOGGLE_RESULT_DIALOG()},onSubmit:function(){var e=this;this.$refs.generalForm.validate(function(t){t&&("T24"===e.form.system&&"customer_info"===e.form.category?e.$refs.customerForm.validate(function(t){if(t){if(e.isEmptyObj(e.customerForm))return e.$message({message:"Cần nhập ít nhất một trường dữ liệu",type:"warning"}),!1;e.$store.dispatch("QueryTool/addRequest",i()({},e.form,{q:e.customerForm}))}}):"T24"===e.form.system&&"transaction"===e.form.category&&e.$refs.transactionForm.validate(function(t){if(t){if(!e.transactionForm.customer_id&&!e.transactionForm.account_number)return e.$message({message:"Cần nhập ít nhất một trường dữ liệu",type:"warning"}),!1;if(e.transactionForm.from>e.transactionForm.to)return e.$message({message:"Ngày bắt đầu phải nhỏ hơn ngày kết thúc",type:"warning"}),!1;e.$store.dispatch("QueryTool/addRequest",i()({},e.form,{q:e.transactionForm}))}}))})}})},I={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"heading"},[r("h1",{staticClass:"title"},[e._v("Requests")]),e._v(" "),r("label",{staticClass:"search icon-before icon-search"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.q.search_key,expression:"q.search_key"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.q.search_key},on:{input:function(t){t.target.composing||e.$set(e.q,"search_key",t.target.value)}}})])]),e._v(" "),r("el-row",{staticClass:"mb-3",attrs:{gutter:15}},[r("el-col",{attrs:{xs:24,sm:e.filterSidebar?16:24,md:e.filterSidebar?16:24,lg:e.filterSidebar?20:24,xl:e.filterSidebar?20:24}},[r("div",{staticClass:"right mr-1"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Refresh",placement:"top-end"}},[r("el-button",{attrs:{disabled:e.loading,size:"mini",icon:"icon icon-spinner11",type:"text"},on:{click:e.onRefresh}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Toggle filter",placement:"top-start"}},[r("el-button",{attrs:{size:"mini",icon:"icon icon-filter",type:"text"},on:{click:e.toggleFilter}})],1)],1),e._v(" "),r("div",{staticClass:"left"},[r("span",{staticClass:"primary--text"},[e._v("Auto update result every "),r("b",[e._v("60")]),e._v(" seconds")])]),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.$store.state.QueryTool.requests,"element-loading-text":"Loading...",size:"mini",border:""}},[r("el-table-column",{attrs:{type:"index",width:"55",align:"center",index:e.generateIndex}}),e._v(" "),e._l(e.columnDefs,function(t,n){return r("el-table-column",{key:n,attrs:{label:t.label,width:t.width,align:t.align,fixed:t.fixed,sortable:t.sortable},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.column;return[r("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])]}},{key:"default",fn:function(n){return[["request_at","respond_at"].includes(t.prop)?r("span",{attrs:{title:n.row[t.prop]}},[e._v("\n                "+e._s(e._f("moment")(n.row[t.prop],"from","now")||"-")+"\n              ")]):["category"].includes(t.prop)?r("span",[r("el-tag",{attrs:{type:e.categories[n.row[t.prop]].type,size:"small",effect:"plain"}},[r("b",[e._v(e._s(e.categories[n.row[t.prop]].description))])])],1):["status"].includes(t.prop)?r("span",[e.isEmptyObj(n.row.result)&&1===n.row[t.prop]?r("el-tag",{attrs:{type:"danger",size:"small",effect:"plain"}},[r("b",[e._v("No Data")])]):r("el-tag",{attrs:{type:e.status[n.row[t.prop]].type,size:"small",effect:"plain"}},[r("b",[e._v(e._s(e.status[n.row[t.prop]].description))])])],1):r("span",[e._v(e._s(e.accessObjByString(t.prop,n.row)||"-"))])]}}],null,!0)})}),e._v(" "),r("el-table-column",{attrs:{width:"80",fixed:"right",label:"Actions",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{class:{"primary--text":!e.isEmptyObj(t.row.result)},attrs:{disabled:e.isEmptyObj(t.row.result),title:e.isEmptyObj(t.row.result)?"No data":"",type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),e.view(t.row)}}},[e._v("\n                View\n              ")])]}}])})],2),e._v(" "),e.$store.state.QueryTool.total>0?r("el-pagination",{staticClass:"mt-2",attrs:{disabled:e.loading,total:e.$store.state.QueryTool.total,"page-sizes":[20,50,100],"page-size":e.q.page_size,"current-page":e.q.page_number,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"current-change":e.currentPageChange,"size-change":e.sizeChange}}):e._e()],1),e._v(" "),e.filterSidebar?r("el-col",{attrs:{xs:24,sm:8,md:8,lg:4,xl:4}},[r("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[r("el-form",{ref:"generalForm",attrs:{model:e.form,rules:e.formRules,"label-position":"top","label-width":"100px",size:"small"}},[r("el-form-item",{attrs:{label:"System",prop:"system"}},[r("el-select",{model:{value:e.form.system,callback:function(t){e.$set(e.form,"system",t)},expression:"form.system"}},e._l(e.systems,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Category",prop:"category"}},[r("el-select",{model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.category,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"customer_info"===e.form.category,expression:"form.category === 'customer_info'"}],ref:"customerForm",attrs:{"label-position":"top","label-width":"100px",model:e.customerForm,rules:e.customerFormRules,size:"small"}},[r("el-form-item",{attrs:{label:"Customer ID",prop:"customer_id"}},[r("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.customerForm.customer_id,callback:function(t){e.$set(e.customerForm,"customer_id",t)},expression:"customerForm.customer_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Legal ID"}},[r("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.customerForm.legal_id,callback:function(t){e.$set(e.customerForm,"legal_id",t)},expression:"customerForm.legal_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Passport"}},[r("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.customerForm.passport,callback:function(t){e.$set(e.customerForm,"passport",t)},expression:"customerForm.passport"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Tax code"}},[r("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.customerForm.tax_code,callback:function(t){e.$set(e.customerForm,"tax_code",t)},expression:"customerForm.tax_code"}})],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"transaction"===e.form.category,expression:"form.category === 'transaction'"}],ref:"transactionForm",attrs:{"label-position":"top","label-width":"100px",model:e.transactionForm,rules:e.transactionFormRules,size:"small"}},[r("el-form-item",{attrs:{label:"Customer ID",prop:"customer_id"}},[r("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.transactionForm.customer_id,callback:function(t){e.$set(e.transactionForm,"customer_id",t)},expression:"transactionForm.customer_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Account number",prop:"account_number"}},[r("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.transactionForm.account_number,callback:function(t){e.$set(e.transactionForm,"account_number",t)},expression:"transactionForm.account_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"From",prop:"from"}},[r("div",{staticClass:"block"},[r("el-date-picker",{attrs:{"picker-options":e.pickerOptions,format:"dd-MM-yyyy","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:e.transactionForm.from,callback:function(t){e.$set(e.transactionForm,"from",t)},expression:"transactionForm.from"}})],1)]),e._v(" "),r("el-form-item",{attrs:{label:"To",prop:"to"}},[r("div",{staticClass:"block"},[r("el-date-picker",{attrs:{"picker-options":e.pickerOptions,format:"dd-MM-yyyy","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:e.transactionForm.to,callback:function(t){e.$set(e.transactionForm,"to",t)},expression:"transactionForm.to"}})],1)])],1),e._v(" "),r("el-button",{staticClass:"mt-2",attrs:{disabled:e.loading,type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v("Search")])],1)],1):e._e()],1),e._v(" "),Object.keys(e.request).length?r("result-dialog",{attrs:{request:e.request}}):e._e()],1)},staticRenderFns:[]};var R=r("VU/8")(S,I,!1,function(e){r("ArKq")},"data-v-46c349a2",null);t.default=R.exports},EqC6:function(e,t){},J6b0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"jumbotron"},[t("h2",[this._v("Hello, world!")]),this._v(" "),t("p",[this._v("Coming soon...")])])}]};var i=r("VU/8")({name:"RMCDashboard"},n,!1,function(e){r("EqC6")},"data-v-6759e530",null);t.default=i.exports},TmV0:function(e,t,r){r("fZOM"),e.exports=r("FeBl").Object.values},fZOM:function(e,t,r){var n=r("kM2E"),i=r("mbce")(!1);n(n.S,"Object",{values:function(e){return i(e)}})},gRE1:function(e,t,r){e.exports={default:r("TmV0"),__esModule:!0}},iuEp:function(e,t){},mbce:function(e,t,r){var n=r("+E39"),i=r("lktj"),a=r("TcQ7"),l=r("NpIQ").f;e.exports=function(e){return function(t){for(var r,s=a(t),o=i(s),c=o.length,u=0,p=[];c>u;)r=o[u++],n&&!l.call(s,r)||p.push(e?[r,s[r]]:s[r]);return p}}}});
//# sourceMappingURL=3.ffe9caad1db98f22af37.js.map