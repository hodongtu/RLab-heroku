webpackJsonp([20],{EEyY:function(e,r){},kJZz:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("Dd8w"),s=t.n(n),a=t("NYxO"),o={name:"app-login",data:function(){return{model:{username:null,password:null},rules:{username:[{required:!0,message:"Username is required"},{min:2,max:16,message:"Username must be between 2 and 16 characters"}],password:[{required:!0,message:"Password is required"},{min:4,max:16,message:"Password must be between 4 and 16 characters"}]},error:null,loading:!1}},computed:s()({},Object(a.c)(["header"])),methods:{submit:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.error=null,r.loading=!0,r.$store.dispatch("createToken",r.model).then(function(e){r.$router.replace({path:r.$route.query.redirect||"/"})}).catch(function(e){switch(r.error={title:"Error occurred",message:"Abnormal, please try again later!"},e.response&&e.response.status){case 401:r.error.message="Incorrect username or password!";break;case 500:r.error.message="Internal server error, please try again later!"}}).finally(function(){return r.loading=!1})})}}},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"login"},[t("header",{staticClass:"login-header"},[t("h1",{staticClass:"brand"},[t("router-link",{attrs:{to:"/",tabindex:"-1"}},[e._v("\n        "+e._s(e.header.name)+"\n      ")])],1),e._v(" "),e.error?t("el-alert",{attrs:{title:e.error.title,description:e.error.message,type:"warning","show-icon":""}}):e._e()],1),e._v(" "),t("el-form",{ref:"login-form",staticClass:"login-form",attrs:{model:e.model,rules:e.rules,"auto-complete":"off","label-position":"top"}},[t("h2",{staticClass:"heading"},[e._v("Sign-in")]),e._v(" "),t("el-form-item",{attrs:{label:"Username",prop:"username"}},[t("el-input",{attrs:{type:"text"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submit("login-form")}},model:{value:e.model.username,callback:function(r){e.$set(e.model,"username",r)},expression:"model.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{attrs:{type:"password"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submit("login-form")}},model:{value:e.model.password,callback:function(r){e.$set(e.model,"password",r)},expression:"model.password"}})],1),e._v(" "),t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(r){return e.submit("login-form")}}},[e._v("\n      "+e._s(e.loading?"Loading...":"Login")+"\n    ")])],1)],1)},staticRenderFns:[]};var i=t("VU/8")(o,l,!1,function(e){t("EEyY")},null,null);r.default=i.exports}});
//# sourceMappingURL=20.9d9a937c48ec576fcf8b.js.map